(()=>{"use strict";var t={178:function(t,e,n){var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(s,a){function i(t){try{l(r.next(t))}catch(t){a(t)}}function o(t){try{l(r.throw(t))}catch(t){a(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,o)}l((r=r.apply(t,e||[])).next())}))},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const a=s(n(641)),i=s(n(81)),o=s(n(271)),l=s(n(12)),u=s(n(126));e.default=class{start(){return r(this,void 0,void 0,(function*(){document.body.addEventListener("click",i.default.dispatch);const t=yield a.default.getAll(),e={category:"",title:"",brand:"",size:"",color:"",quantity:0,price:0};l.default.saveToSession("filters",e),l.default.saveToSession("data",t.default),o.default.setControls(t.default),u.default.drawCards(t.default,e)}))}}},126:function(t,e,n){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=r(n(33)),a=r(n(892)),i=r(n(354));e.default=class{static drawCards(t,e){const n=document.querySelector(".content"),r=a.default.complexFilter(t,e);let o=null;null!==r&&(o=i.default.generateCards(r)),null!==n&&null!==o&&(n.innerHTML="",s.default.appendElements(n,o))}}},271:function(t,e,n){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=r(n(33));e.default=class{static setControls(t){const e=document.querySelector(".category");let n=new Set(t.map((t=>t.category)));n=new Set(n);const r=[...n].map((t=>{const e=document.createElement("button");return e.className="controls-category",e.setAttribute("data-filter",`category ${t}`),e.textContent=String(t).charAt(0).toUpperCase()+String(t).slice(1),e}));null!==e&&s.default.appendElements(e,r);const a=document.querySelector(".color");let i=new Set(t.map((t=>t.color)));i=new Set(i);const o=[...i].map((t=>{const e=document.createElement("div");return e.className="controls-color",e.textContent="-",e.style.background=String(t),e}));null!==a&&s.default.appendElements(a,o);const l=document.querySelector(".price");let u=t.map((t=>t.price));u=u.sort(((t,e)=>Number(t)-Number(e)));const c=u[u.length-1],d=document.createElement("p");d.textContent=String(c),d.className="short-paragraph";const p=document.createElement("input");p.setAttribute("type","range"),p.setAttribute("min","0"),p.setAttribute("max",String(c)),p.setAttribute("id","pr"),p.setAttribute("name","pr"),p.setAttribute("value",String(c)),null!==l&&s.default.appendElements(l,[d,p]);const m=document.querySelector(".year");let f=t.map((t=>t.year));f=f.sort(((t,e)=>Number(t)-Number(e)));const g=f[f.length-1],y=document.createElement("p");y.textContent=String(g),y.className="short-paragraph";const h=document.createElement("input");h.setAttribute("type","range"),h.setAttribute("min","0"),h.setAttribute("max",String(g)),h.setAttribute("step","1"),h.setAttribute("id","pr"),h.setAttribute("name","pr"),h.setAttribute("value",String(g)),null!==m&&s.default.appendElements(m,[y,h]);const b=document.querySelector(".quantity");let v=t.map((t=>t.quantity));v=v.sort(((t,e)=>Number(t)-Number(e)));const _=v[v.length-1],S=document.createElement("p");S.textContent=String(_),S.className="short-paragraph";const w=document.createElement("input");w.setAttribute("type","range"),w.setAttribute("min","0"),w.setAttribute("max",String(_)),w.setAttribute("step","1"),w.setAttribute("id","pr"),w.setAttribute("name","pr"),w.setAttribute("value",String(_)),null!==b&&s.default.appendElements(b,[S,w]);const M=document.querySelector(".brand"),A=document.createElement("select"),j=document.createElement("option");j.textContent="All";let E=new Set(t.map((t=>t.brand)));E=new Set(E);const x=[...E].map((t=>{const e=document.createElement("option");return e.className="456456",e.textContent=String(t),e}));null!==M&&(s.default.appendElements(A,[j]),s.default.appendElements(A,x),s.default.appendElements(M,[A]));const q=document.querySelector(".sort-by"),C=document.createElement("div");null!==q&&(C.insertAdjacentHTML("afterbegin",'\n    <p class = "short-paragraph">year</p>\n    <button>up</button>\n    <button>down</button>\n    '),s.default.appendElements(q,[C])),null!==q&&(C.insertAdjacentHTML("afterbegin",'\n    <p class = "short-paragraph">Title</p>\n    <button>up</button>\n    <button>down</button>\n    '),s.default.appendElements(q,[C]))}}},641:function(t,e,n){var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var s=Object.getOwnPropertyDescriptor(e,n);s&&!("get"in s?!e.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,s)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return s(e,t),e},i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(s,a){function i(t){try{l(r.next(t))}catch(t){a(t)}}function o(t){try{l(r.throw(t))}catch(t){a(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,o)}l((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{static getAll(){return i(this,void 0,void 0,(function*(){return yield Promise.resolve().then((()=>a(n(195))))}))}static getByID(t){return i(this,void 0,void 0,(function*(){return(yield this.getAll()).default.find((e=>e.id===t))}))}}},33:function(t,e){var n=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(s,a){function i(t){try{l(r.next(t))}catch(t){a(t)}}function o(t){try{l(r.throw(t))}catch(t){a(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,o)}l((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{static appendElements(t,e){return n(this,void 0,void 0,(function*(){const n=new DocumentFragment;Array.isArray(e)?n.append(...e):n.append(e),t.append(n)}))}}},81:function(t,e,n){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=r(n(12)),a=r(n(126));e.default=class{static dispatch(t){var e;let n=null,r=null;const i=s.default.loadFromSession("filters"),o=s.default.loadFromSession("data");if(null!=t.target){switch(n=t.target,r=(null===(e=n.getAttribute("data-filter"))||void 0===e?void 0:e.split(" "))||[],console.log(r),r[0]){case"search":i.title=n.value;break;case"category":i.category=r[1]}s.default.saveToSession("filters",i),a.default.drawCards(o,i)}}}},892:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});class n{static complexFilter(t,e){const r=t;if(n.isEmptyFilters(e))return r;const s=n.searchFilter(r,e);if(n.isEmptyFilters(e))return s;const a=Object.entries(e);let i=null;return null!==s&&(i=s.filter((t=>{for(const e of a)if(e[1]===t[e[0]])return!0;return!1}))),console.log("--\x3e",s,i),i}static searchFilter(t,e){const{title:n}=e;if(!n)return t;let r=null;return String(n).length>0&&(r=t.filter((t=>String(t.title).toLowerCase().includes(String(e.title).toLowerCase()))),e.title=""),r}static isEmptyFilters(t){return 0===Object.values(t).filter(Boolean).length}}e.default=n},354:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{static generateCards(t){return t.map((t=>this.createCard(t)))}static createCard(t){const e=document.createElement("div");e.className="product";const n=`\n    <div class="product-image" style="background-image: url(${t.img});"></div>\n    <h3 class="product-title">${t.title}</h3>\n    <div class="product-values">\n      <h2 class="product-brand">${t.brand}</h3>\n      <h2 class="product-price">$${t.price}</h3>\n    </div>\n    <div class="product-info">\n      <h2 class="product-year">${t.year}</h3>\n      <h2 class="product-quantity">${t.quantity} items</h3>\n    </div>\n    <button class="product-button">Add to Cart</button>\n    `;return e.insertAdjacentHTML("afterbegin",n),e}}},12:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{static saveToSession(t,e){sessionStorage.setItem(t,JSON.stringify(e))}static loadFromSession(t){const e=sessionStorage.getItem(t);let n=null;return n=null===e?{}:JSON.parse(e),n}}},607:function(t,e,n){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),(new(r(n(178)).default)).start()},195:t=>{t.exports=JSON.parse('[{"id":1,"category":"dress","title":"Checked Short Dress","year":2020,"brand":"H&M","size":"L","color":"gray","quantity":5,"price":14.55,"img":"./assets/img/shop/dress/1.jpg"},{"id":2,"category":"dress","title":"Light Blue Denim","year":2021,"brand":"H&M","size":"L","color":"blue","quantity":10,"price":19.55,"img":"./assets/img/shop/dress/2.jpg"},{"id":3,"category":"dress","title":"Pink Printed Dress","year":2022,"brand":"Zara","size":"L","color":"pink","quantity":10,"price":39.95,"img":"./assets/img/shop/dress/3.jpg"},{"id":10,"category":"tshirts","title":"Blue Round-Neck","year":2020,"brand":"H&M","size":"L","color":"blue","quantity":10,"price":9.55,"img":"./assets/img/shop/tshirts/1.jpg"},{"id":11,"category":"tshirts","title":"Black Polo Tshirt","year":2020,"brand":"H&M","size":"L","color":"black","quantity":10,"price":11.95,"img":"./assets/img/shop/tshirts/4.jpg"},{"id":21,"category":"pants","title":"Slim Fit Chinos","year":2021,"brand":"H&M","size":"L","color":"sand","quantity":10,"price":39.55,"img":"./assets/img/shop/pants/1.jpg"},{"id":22,"category":"pants","title":"Green Trousers","year":2020,"brand":"H&M","size":"L","color":"green","quantity":10,"price":21.95,"img":"./assets/img/shop/pants/5.jpg"},{"id":31,"category":"shoes","title":"Dark Brown Boots","year":2022,"brand":"H&M","size":"L","color":"brown","quantity":10,"price":49.55,"img":"./assets/img/shop/shoes/1.jpg"},{"id":32,"category":"shoes","title":"Men Grey Casual","year":2020,"brand":"H&M","size":"L","color":"gray","quantity":10,"price":39.95,"img":"./assets/img/shop/shoes/2.jpg"},{"id":41,"category":"sunglasses","title":"Unisex Sunglasses","year":2020,"brand":"H&M","size":"L","color":"gray","quantity":10,"price":15.55,"img":"./assets/img/shop/sunglasses/1.jpg"},{"id":42,"category":"sunglasses","title":"Men Aviator","year":2021,"brand":"H&M","size":"L","color":"brown","quantity":10,"price":17.95,"img":"./assets/img/shop/sunglasses/2.jpg"},{"id":51,"category":"watches","title":"Silver Chrome Watch","year":2019,"brand":"H&M","size":"L","color":"brown","quantity":2,"price":125.95,"img":"./assets/img/shop/watches/1.jpg"}]')}},e={};!function n(r){var s=e[r];if(void 0!==s)return s.exports;var a=e[r]={exports:{}};return t[r].call(a.exports,a,a.exports,n),a.exports}(607)})();