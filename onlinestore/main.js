(()=>{"use strict";var t={178:function(t,e,r){var a=this&&this.__awaiter||function(t,e,r,a){return new(r||(r=Promise))((function(n,s){function o(t){try{i(a.next(t))}catch(t){s(t)}}function l(t){try{i(a.throw(t))}catch(t){s(t)}}function i(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,l)}i((a=a.apply(t,e||[])).next())}))},n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(r(641)),o=n(r(81)),l=n(r(12)),i=n(r(126));e.default=class{static start(){return a(this,void 0,void 0,(function*(){document.body.addEventListener("click",o.default.dispatch);const t=yield s.default.getAll(),e={category:"",title:"",brand:"",size:"",color:"",quantity:0,price:0};l.default.saveToStorage("filters",e),l.default.saveToStorage("data",t.default),l.default.saveToSession("data",t.default),i.default.drawControls(),i.default.drawCartQ(),i.default.drawCards(t.default,e)}))}}},659:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{static add(){}static showQ(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e+=Number(t[r].inCart));console.log(e);const r=document.querySelector(".cart-count");null!==r&&(r.textContent=String(e))}}},126:function(t,e,r){var a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const n=a(r(33)),s=a(r(892)),o=a(r(354)),l=a(r(12)),i=a(r(659)),u=a(r(271));class c{static drawCards(t,e){const r=document.querySelector(".content"),a=s.default.complexFilter(t,e);let l=null;null!==a&&(l=o.default.generateCards(a)),null!==r&&null!==l&&(r.innerHTML="",n.default.appendElements(r,l))}static drawCartQ(){i.default.showQ(c.cart)}static drawControls(){u.default.setControls(c.data)}static clearAllData(){l.default.clearAll();const t=l.default.loadFromSession("data");l.default.saveToStorage("data",t),i.default.showQ({}),c.drawCards(t,{})}}e.default=c,c.data=l.default.loadFromStorage("data"),c.cart=l.default.loadFromStorage("cart")},271:function(t,e,r){var a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const n=a(r(33));e.default=class{static setControls(t){const e=document.querySelector(".category");let r=new Set(t.map((t=>t.category)));r=new Set(r);const a=[...r].map((t=>{const e=document.createElement("button");return e.className="controls-category",e.setAttribute("data-filter",`category ${t}`),e.textContent=String(t).charAt(0).toUpperCase()+String(t).slice(1),e}));null!==e&&n.default.appendElements(e,a);const s=document.querySelector(".color");let o=new Set(t.map((t=>t.color)));o=new Set(o);const l=[...o].map((t=>{const e=document.createElement("div");return e.className="controls-color",e.textContent="-",e.style.background=String(t),e}));null!==s&&n.default.appendElements(s,l);const i=document.querySelector(".price");let u=t.map((t=>t.price));u=u.sort(((t,e)=>Number(t)-Number(e)));const c=u[u.length-1],d=document.createElement("p");d.textContent=String(c),d.className="short-paragraph";const p=document.createElement("input");p.setAttribute("type","range"),p.setAttribute("min","0"),p.setAttribute("max",String(c)),p.setAttribute("id","pr"),p.setAttribute("name","pr"),p.setAttribute("value",String(c)),null!==i&&n.default.appendElements(i,[d,p]);const f=document.querySelector(".year");let g=t.map((t=>t.year));g=g.sort(((t,e)=>Number(t)-Number(e)));const m=g[g.length-1],y=document.createElement("p");y.textContent=String(m),y.className="short-paragraph";const h=document.createElement("input");h.setAttribute("type","range"),h.setAttribute("min","0"),h.setAttribute("max",String(m)),h.setAttribute("step","1"),h.setAttribute("id","pr"),h.setAttribute("name","pr"),h.setAttribute("value",String(m)),null!==f&&n.default.appendElements(f,[y,h]);const b=document.querySelector(".quantity");let v=t.map((t=>t.quantity));v=v.sort(((t,e)=>Number(t)-Number(e)));const S=v[v.length-1],_=document.createElement("p");_.textContent=String(S),_.className="short-paragraph";const C=document.createElement("input");C.setAttribute("type","range"),C.setAttribute("min","0"),C.setAttribute("max",String(S)),C.setAttribute("step","1"),C.setAttribute("id","pr"),C.setAttribute("name","pr"),C.setAttribute("value",String(S)),null!==b&&n.default.appendElements(b,[_,C]);const w=document.querySelector(".brand"),A=document.createElement("select"),M=document.createElement("option");M.textContent="All";let j=new Set(t.map((t=>t.brand)));j=new Set(j);const E=[...j].map((t=>{const e=document.createElement("option");return e.className="456456",e.textContent=String(t),e}));null!==w&&(n.default.appendElements(A,[M]),n.default.appendElements(A,E),n.default.appendElements(w,[A]));const q=document.querySelector(".sort-by"),O=document.createElement("div");null!==q&&(O.insertAdjacentHTML("afterbegin",'\n    <p class = "short-paragraph">year</p>\n    <button>up</button>\n    <button>down</button>\n    '),n.default.appendElements(q,[O])),null!==q&&(O.insertAdjacentHTML("afterbegin",'\n    <p class = "short-paragraph">Title</p>\n    <button>up</button>\n    <button>down</button>\n    '),n.default.appendElements(q,[O]))}}},641:function(t,e,r){var a=this&&this.__createBinding||(Object.create?function(t,e,r,a){void 0===a&&(a=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,a,n)}:function(t,e,r,a){void 0===a&&(a=r),t[a]=e[r]}),n=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&a(e,t,r);return n(e,t),e},o=this&&this.__awaiter||function(t,e,r,a){return new(r||(r=Promise))((function(n,s){function o(t){try{i(a.next(t))}catch(t){s(t)}}function l(t){try{i(a.throw(t))}catch(t){s(t)}}function i(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,l)}i((a=a.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{static getAll(){return o(this,void 0,void 0,(function*(){return yield Promise.resolve().then((()=>s(r(195))))}))}static getByID(t){return o(this,void 0,void 0,(function*(){return(yield this.getAll()).default.find((e=>e.id===t))}))}}},33:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{static appendElements(t,e){const r=new DocumentFragment;Array.isArray(e)?r.append(...e):r.append(e),t.append(r)}}},81:function(t,e,r){var a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const n=a(r(12)),s=a(r(126)),o=a(r(659));e.default=class{static dispatch(t){var e;let r,a,l=null,i=null;const u=n.default.loadFromStorage("filters");let c=n.default.loadFromStorage("data"),d=n.default.loadFromStorage("cart");if(null!=t.target){switch(l=t.target,console.log(l),r=(null===(e=l.getAttribute("data-filter"))||void 0===e?void 0:e.split(" "))||[],console.log(r),r[0]){case"search":u.title=l.value;break;case"category":u.category=r[1];break;case"id":a=c.findIndex((t=>t.id===Number(r[1]))),i=c[a],i.quantity-=1,i.inCart+=1,c[a]=i,n.default.saveToStorage("data",c),d[r[1]]=i,n.default.saveToStorage("cart",d);break;case"clear-all":s.default.clearAllData(),c=n.default.loadFromStorage("data"),d=n.default.loadFromStorage("cart")}n.default.saveToStorage("filters",u),s.default.drawCards(n.default.loadFromStorage("data"),u),o.default.showQ(d)}}}},892:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});class r{static complexFilter(t,e){const a=t;if(r.isEmptyFilters(e))return a;const n=r.searchFilter(a,e);if(r.isEmptyFilters(e))return n;const s=Object.entries(e);let o=null;return null!==n&&(o=n.filter((t=>{for(const e of s)if(e[1]===t[e[0]])return!0;return!1}))),console.log("--\x3e",n,o),o}static searchFilter(t,e){const{title:r}=e;if(!r)return t;let a=null;return String(r).length>0&&(a=t.filter((t=>String(t.title).toLowerCase().includes(String(e.title).toLowerCase()))),e.title=""),a}static isEmptyFilters(t){return 0===Object.values(t).filter(Boolean).length}}e.default=r},354:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{static generateCards(t){return t.map((t=>this.createCard(t)))}static createCard(t){const e=document.createElement("div");e.className="product";const r=`\n    <div class="product-image" style="background-image: url(${t.img});"></div>\n    <h3 class="product-title">${t.title}</h3>\n    <div class="product-values">\n      <h2 class="product-brand">${t.brand}</h3>\n      <h2 class="product-price">$${t.price}</h3>\n    </div>\n    <div class="product-info">\n      <h2 class="product-year">${t.year}</h3>\n      <h2 class="product-quantity">${t.quantity} items</h3>\n    </div>\n    <button class="product-button" data-filter="id ${t.id}">Add to Cart</button>\n    `;return e.insertAdjacentHTML("afterbegin",r),e}}},12:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{static saveToStorage(t,e){localStorage.setItem(t,JSON.stringify(e))}static loadFromStorage(t){const e=localStorage.getItem(t);let r=null;return r=null===e?{}:JSON.parse(e),r}static saveToSession(t,e){sessionStorage.setItem(t,JSON.stringify(e))}static loadFromSession(t){const e=sessionStorage.getItem(t);let r=null;return r=null===e?{}:JSON.parse(e),r}static clearAll(){null!==document.querySelector(".clear-all")&&localStorage.clear()}}},607:function(t,e,r){var a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),a(r(178)).default.start()},195:t=>{t.exports=JSON.parse('[{"id":1,"category":"dress","title":"Checked Short Dress","year":2020,"brand":"H&M","size":"L","color":"gray","quantity":5,"price":14.55,"img":"./assets/img/shop/dress/1.jpg","inCart":0},{"id":2,"category":"dress","title":"Light Blue Denim","year":2021,"brand":"H&M","size":"L","color":"blue","quantity":10,"price":19.55,"img":"./assets/img/shop/dress/2.jpg","inCart":0},{"id":3,"category":"dress","title":"Pink Printed Dress","year":2022,"brand":"Zara","size":"L","color":"pink","quantity":10,"price":39.95,"img":"./assets/img/shop/dress/3.jpg","inCart":0},{"id":10,"category":"tshirts","title":"Blue Round-Neck","year":2020,"brand":"H&M","size":"L","color":"blue","quantity":10,"price":9.55,"img":"./assets/img/shop/tshirts/1.jpg","inCart":0},{"id":11,"category":"tshirts","title":"Black Polo Tshirt","year":2020,"brand":"H&M","size":"L","color":"black","quantity":10,"price":11.95,"img":"./assets/img/shop/tshirts/4.jpg","inCart":0},{"id":21,"category":"pants","title":"Slim Fit Chinos","year":2021,"brand":"H&M","size":"L","color":"sand","quantity":10,"price":39.55,"img":"./assets/img/shop/pants/1.jpg","inCart":0},{"id":22,"category":"pants","title":"Green Trousers","year":2020,"brand":"H&M","size":"L","color":"green","quantity":10,"price":21.95,"img":"./assets/img/shop/pants/5.jpg","inCart":0},{"id":31,"category":"shoes","title":"Dark Brown Boots","year":2022,"brand":"H&M","size":"L","color":"brown","quantity":10,"price":49.55,"img":"./assets/img/shop/shoes/1.jpg","inCart":0},{"id":32,"category":"shoes","title":"Men Grey Casual","year":2020,"brand":"H&M","size":"L","color":"gray","quantity":10,"price":39.95,"img":"./assets/img/shop/shoes/2.jpg","inCart":0},{"id":41,"category":"sunglasses","title":"Unisex Sunglasses","year":2020,"brand":"H&M","size":"L","color":"gray","quantity":10,"price":15.55,"img":"./assets/img/shop/sunglasses/1.jpg","inCart":0},{"id":42,"category":"sunglasses","title":"Men Aviator","year":2021,"brand":"H&M","size":"L","color":"brown","quantity":10,"price":17.95,"img":"./assets/img/shop/sunglasses/2.jpg","inCart":0},{"id":51,"category":"watches","title":"Silver Chrome Watch","year":2019,"brand":"H&M","size":"L","color":"brown","quantity":2,"price":125.95,"img":"./assets/img/shop/watches/1.jpg","inCart":0}]')}},e={};!function r(a){var n=e[a];if(void 0!==n)return n.exports;var s=e[a]={exports:{}};return t[a].call(s.exports,s,s.exports,r),s.exports}(607)})();